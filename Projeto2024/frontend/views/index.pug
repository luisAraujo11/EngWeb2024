doctype html
html
  head
    title= titulo
    meta(charset='utf-8')
    link(rel='stylesheet', href='/stylesheets/custom.css')

  body
  div.title_div
    h1.title_div= titulo

  // Buttons
  div.button_div
    a.button(style="margin-right: 8px;" href="/posts") Check Posts
    a.button(style="margin-right: 8px;" href="/home") Clear Filters
    a.button(style="margin-right: 8px;" href="/download") Download CSV
    a.button(href="/logout") Disconnect

  // Search form
  form.search_form(action="/home/search", method="get") 
    fieldset
      legend.form_legend Search Records
      div.search_div
        label.form_label(for="searchType") Search by
        select(name="searchType")
          option(value="name", selected) Name
          option(value="date") Year
          option(value="location") Location
          option(value="county") County
          option(value="district") District
      div.search_div
        label.form_label(for="searchValue") Search Value
        input.search_input(type="text", name="searchValue", placeholder="Enter search value")
        button.search_button(type="submit") Search
  
  // Sorting form
  form.sort_form(action="/home/sort", method="get") 
    fieldset
      legend.form_legend Sort Records
      div.sort_div
        label.form_label(for="sortBy") Sort by
        select(name="sortBy")
          option(value="name") Name (A-Z)
          option(value="nameDesc") Name (Z-A)
          option(value="year") Year (Ascending)
          option(value="yearDesc") Year (Descending)
          option(value="location") Location (A-Z)
          option(value="locationDesc") Location (Z-A)
          option(value="county") County (A-Z)
          option(value="countyDesc") County (Z-A)
          option(value="district") District (A-Z)
          option(value="districtDesc") District (Z-A)
          option(value="id") ID (Ascending)
          option(value="idDesc") ID (Descending)
        button.sort_button(type="submit") Sort
  
  // Info Table
  div.info_div
    p.table_title Inquirições de Génere
    table.info_table
      thead
        tr
          th UnitID
          th Name
          th Date
          th Location
          th County
          th District
          th Edit
      tbody
        each record in generes
          tr
            td
              a(href=`/${record._id}`) #{record._id}
            td #{record.Name}
            td #{record.UnitDateFinal}
            td #{record.Lugar}
            td #{record.Concelho}
            td #{record.Distrito}
            td
              div
                a.genere_edit_button(href=`/edit/${record._id}`) SuggestEdit

  // Pagination          
  if totalPages > 1
    div.pagination_div
      p Page #{page + 1} of #{totalPages}
      if page > 0
        a.change_page_button(href=previousPageURL) Previous
      if page < totalPages - 1
        a.change_page_button(href=nextPageURL) Next

  // Footer
  footer
    address Generated by Grupo12::EngWeb2024 on #{data}
