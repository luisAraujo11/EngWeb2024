doctype html
html
  head
    title= titulo
    meta(charset='utf-8')
    link(rel='stylesheet', href='/stylesheets/custom.css')

  body
  div.title_div
    h1.title_div= titulo

  // Button to make a new Post
  div.button_div
    a.button(href="/posts/newPost") New Post

  // Post
  each post in posts
    div.post_div
      p.p_user #{post.UserId} just posted:
      h2.post_title= post.PostTitle
      p.post_text= post.PostText
      
      .post_inq_div
        h4 Inquirição Details:
        p ID: #{post.InqId}
        p Name: #{post.Name}
        p Date: #{post.Date}
        p Location: #{post.Location}
        p= "For more details:"
        a(href=`/admin/${post.InqId}`) View Inquirição
      
      // Comments Section
      if post.Comments.length > 0
        h3 Comments:
        each comment in post.Comments
          div.comment_div
            p.comment #{comment.UserId}: #{comment.CommentText}
          // Delete Comment
          form(method="POST" action=`/posts/delete-comment/${post._id}/${comment._id}`)
            button.comment_button(type="submit") Delete Comment
      else
        .w3-container
          p.no_comments No comments yet

      // Form to add a new comment
      form(action=`/posts/${post._id}/add-comment`, method="POST")
        input.comment_input(type="text", name="CommentText", required=true, placeholder="Write your comment here...")
        input(type="hidden", name="_id", value="defaultCommentId")  
        input(type="hidden", name="UserId", value="defaultUserId")  
        input.comment_button(type="submit", value="Add Comment")
      

      // Delete Post
      form(method="POST" action=`/posts/delete-post/${post._id}`)
        button.genere_edit_button(type="submit") Delete Post

  // Right spacer column
  div.return_div
    a.return_button(href="/admin/home") Return to Main Page

  footer
    address Generated by Grupo12::EngWeb2024 on #{data}

